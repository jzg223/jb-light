<template>
</template>
<script>
    Rap.define([], {
        props: ['divid','title','names','datas'],
        data() {
            return {
            }
        },
        mounted() {
        },
        watch: {
            datas: {
                handler(new_val, oldName) {
                    if (undefined != this.datas && this.datas.length > 0) {
                        this.onDraw();
                    }
                },
                immediate: true
            },
        },
        methods: {
            onDraw() {
                const barHeight = 50;
                var option = {
                    title: [
                        {
                            text: this.title,
                            // show: false
                        }
                    ],
                    polar: {
                        radius: [30, '80%']
                    },
                    radiusAxis: {
                        max: 4
                    },
                    angleAxis: {
                        type: 'category',
                        data: this.names,
                        startAngle: 75,
                        axisLabel:{
                            color:'#fff'
                        }
                    },
                    tooltip: {},
                    series: {
                        type: 'bar',
                        
                        data: this.datas,
                        coordinateSystem: 'polar',
                        label: {
                            show: true,
                            position: 'middle',
                            formatter: '{b}: {c}'
                        }
                    },
                    // backgroundColor: '#fff',
                    animation: false
                };
                var myChart = echarts.init(document.getElementById(this.divid));
                myChart.setOption(option);

            }
        },
    })
</script>